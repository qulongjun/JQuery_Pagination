$.fn.paging=function(b){var e={parent:$(this),liCss:b.liCss,liActive:b.liActive,liForbid:b.liForbid,nowShowMin:0,nowShowMax:0,nowIndex:0,selfPage:0,_thisUl:$("<ul>"),nextPageBtn:0,result:null,pageCount:b.pageCount,initPage:b.initPage,showCount:b.showCount,fn:b.fn};if(!e.pageCount){console.log("pagingParam.pageCount(页码总数)参数必须设置！");return false}if(!e.initPage){e.initPage=1}if(!e.showCount){e.showCount=e.pageCount}if(!e.fn){e.fn=function(){}}if(!e.liCss){e.liCss={display:"inline-block",border:"1px solid #0099CC",padding:"3px 10px",cursor:"pointer","margin-right":"5px",background:"inherit","pointer-events":"auto"}}if(!e.liForbid){e.liForbid={background:"#999",cursor:"default","pointer-events":"none"}}if(!e.liActive){e.liActive={background:"#FF9900",cursor:"default","pointer-events":"none"}}e._thisUl.appendTo(e.parent);e.result=i();e.nowIndex=e.initPage;e.selfPage=Math.ceil((e.nowShowMax-e.nowShowMin)/2)+e.nowShowMin;k();e._thisUl.children("li:eq("+(e.initPage+1)+")").css(e.liActive);if(e.initPage==1){e._thisUl.children("li:eq(1)").css(e.liForbid);e._thisUl.children("li:eq(0)").css(e.liForbid)}function k(){$("<li>").text("首页").css(e.liCss).appendTo(e._thisUl);$("<li>").text("上一页").css(e.liCss).appendTo(e._thisUl);for(var m=e.nowShowMin;m<=e.nowShowMax;m++){var l=$("<li>");l.click(h);l.text(m).css(e.liCss).appendTo(e._thisUl)}$("<li>").text("下一页").css(e.liCss).appendTo(e._thisUl);$("<li>").text("尾页").css(e.liCss).appendTo(e._thisUl);e.nextPageBtn=e._thisUl.children("li").length-2;if(!e.result){e._thisUl.children("li:eq("+e.nextPageBtn+")").css(e.liForbid)}e._thisUl.children("li:eq("+e.nextPageBtn+")").click(j);e._thisUl.children("li:eq(0)").click(c);e._thisUl.children("li:last-of-type").click(d);e._thisUl.children("li:eq(1)").click(f)}function j(){e.result=i();e._thisUl.empty();k();e._thisUl.children("li:eq("+(e.nowIndex-e.nowShowMin+2)+")").css(e.liActive).siblings("li").css(e.liCss);if(!e.result){e._thisUl.children("li:eq("+e.nextPageBtn+")").css(e.liForbid);e._thisUl.children("li:last-of-type").css(e.liForbid)}e.fn(a())}function f(){e.result=g();e._thisUl.empty();k();e._thisUl.children("li:eq("+(e.nowIndex-e.nowShowMin+2)+")").css(e.liActive).siblings("li").css(e.liCss);if(!e.result){e._thisUl.children("li:eq(1)").css(e.liForbid);e._thisUl.children("li:first-of-type").css(e.liForbid)}e.fn(a())}function i(){if(e.pageCount>e.showCount){if(e.nowShowMax>=e.pageCount){e.nowShowMax=e.pageCount;if(e.nowIndex!=e.pageCount){e.nowIndex++}return e.nowIndex!=e.pageCount}if(e.nowIndex<e.selfPage){e.nowIndex++}else{e.nowShowMin++;e.nowShowMax=e.nowShowMin+e.showCount-1;e.selfPage=Math.ceil((e.nowShowMax-e.nowShowMin)/2)+e.nowShowMin;e.nowIndex++}return true}else{e.nowShowMin=1;e.nowShowMax=e.pageCount;e.nowIndex++;return e.nowIndex!=e.pageCount}}function g(){if(e.pageCount>e.showCount){if(e.nowShowMin<=1){e.nowShowMin=1;if(e.nowIndex>1){e.nowIndex--}return e.nowIndex!=1}if(e.nowIndex>e.selfPage){e.nowIndex--}else{e.nowShowMin--;e.nowShowMax=e.nowShowMin+e.showCount-1;e.selfPage=Math.ceil((e.nowShowMax-e.nowShowMin)/2)+e.nowShowMin;e.nowIndex--}return true}else{e.nowShowMin=1;e.nowShowMax=e.pageCount;e.nowIndex--;return e.nowIndex!=1}}function c(){while(g()){}e._thisUl.empty();k();e._thisUl.children("li:eq("+(e.nowIndex-e.nowShowMin+2)+")").css(e.liActive).siblings("li").css(e.liCss);e._thisUl.children("li:eq(1)").css(e.liForbid);e._thisUl.children("li:first-of-type").css(e.liForbid);e.fn(a())}function d(){while(i()){}e._thisUl.empty();k();e._thisUl.children("li:eq("+(e.nowIndex-e.nowShowMin+2)+")").css(e.liActive).siblings("li").css(e.liCss);e._thisUl.children("li:eq("+e.nextPageBtn+")").css(e.liForbid);e._thisUl.children("li:last-of-type").css(e.liForbid);e.fn(a())}function h(){var l=$(this);if(l.text()==e.nowShowMax){while(i()){if(e.selfPage==l.text()){break}}}if(l.text()==e.nowShowMin){while(g()){if(e.selfPage==l.text()){break}}}e.nowIndex=parseInt($(this).text());e._thisUl.empty();k();e._thisUl.children("li:eq("+(e.nowIndex-e.nowShowMin+2)+")").css(e.liActive).siblings("li").css(e.liCss);if(e.nowIndex==1){e._thisUl.children("li:eq(1)").css(e.liForbid);e._thisUl.children("li:first-of-type").css(e.liForbid)}if(e.nowIndex==e.pageCount){e._thisUl.children("li:eq("+(e.nextPageBtn)+")").css(e.liForbid);e._thisUl.children("li:last-of-type").css(e.liForbid)}e.fn(a())}function a(){return e.nowIndex}e.fn(e.nowIndex)};